<head>
  <base href="/"> 
  <meta name="viewport" content="width=device-width, minimum-scale=1">

  <!-- loader css -->
  <style type="text/css">

     :root{
         --loader-500: #FFA800;
     }
     body{
        margin: 0;
     }
     .loader {
      width: 100%;
      height: 100vh;
      position: fixed;
      background: white
      url("./loader.gif") center
      no-repeat;
      background-size:200px 200px;
      image-rendering: pixelated;
      z-index: 3;
      }
  </style>
  </head>
  <body tabindex="-2">
     <main>
      <div class="loader hidden">
      </div>
        <div id="game">
           <div id="gui-container"></div>
  
  
           <!-- later there can be stats overlay, and minimap here too  -->
           <div id="mini-map">
              <canvas id="map-canvas" width="350" height="350"></canvas>
              <canvas id="player-canvas" width="350" height="350"></canvas>
           </div>
           
           <div class="camera">
              <div class="map pixel-art">
                 <div class="map-grid"> 
                 </div>
                 <canvas id="game-canvas"> 
                 </canvas>
                 <div class="ghost" facing="down" walking="true" angle="0">
                    <p class="driver-name"></p>
                    <div class="ghost_spritesheet pixel-art"></div>
                 </div>
                 <div class="character" facing="down" walking="true" angle="0">
                    <div class="character_spritesheet pixel-art"></div>
                 </div>
                 
  
              </div>
           </div>
        </div>
     </main>
  
   <!-- Google tag (gtag.js) -->
   <script async src="https://www.googletagmanager.com/gtag/js?id=G-68K0WQF6PS"></script>
   <script>
   window.dataLayer = window.dataLayer || [];
   function gtag(){dataLayer.push(arguments);}
   gtag('js', new Date());

   gtag('config', 'G-68K0WQF6PS');
   </script>

   <script type="module">
      function fadeOutEffect() {
      var zoomTarget = document.querySelector(".menu-container");
      var fadeTarget = document.querySelector(".loader");
      var fadeEffect =  setInterval(function () {
         if (!fadeTarget.style.opacity) {
               fadeTarget.style.opacity = 1;
         }
         if (fadeTarget.style.opacity > 0) {
               fadeTarget.style.opacity -= 0.1;
               console.log("hello?")
         } else {
               clearInterval(fadeEffect);
               fadeTarget.remove();
         }
      zoomTarget.classList.add("zoom-in");
      }, 210)
      }
      
      // window.addEventListener("load", () => { setTimeout(
      // fadeOutEffect, 50)}); 
      console.log("assigned")

   </script>
  
  </body>