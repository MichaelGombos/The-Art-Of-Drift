<h1 align="center"> The art of drift </h1>

![The art of drift animated title](https://github.com/MichaelGombos/browser-driving-demo/blob/main/public/title.gif?raw=true)

The art of drift is a racing game built in javascript.


## Where to play

You can play this game online at [www.beta.TheArtOfDrift.com](https://www.beta.TheArtOfDrift.com)

## How to play?

This game is played with wasd and the arrow keys to control the car. Shift, space, s or down arrow can be used to engage the brakes.

## Attributions

### Images/Animations:
-	Background: Post-apocalyptic background by PashaSmith https://pashasmith.itch.io/post-apocalyptic-background 
-	Vehicles : Pixel Art Car Pack by realcreative https://realcreative.itch.io/pixel-art-car-pack 
-	GUI assets : UI Buttons & Scrolling bars Pixel art by Gowl https://gowldev.itch.io/ui-buttons-scrolling-bars-pixel-art 
-	Controller/Keyboard keys : Kenny Input Prompts Pixel 16x  https://kenney-assets.itch.io/input-prompts-pixel-16 
-	Map select medal : CC0 Award Icons by AntumDeluge https://opengameart.org/content/cc0-award-icons 
-	Map select star : Pixel Art Animated Star by Narik https://soulofkiran.itch.io/pixel-art-animated-star 
-	Smoke animated particles : VFX - SMOKE VOL 2 - Pixel Art Effects by kiddolink https://kiddolink.itch.io/vfx-fx-smoke-vol-2-pixel-art 
-	Electricity Animated Particles : VFX - ELECTRICITY VOL 2 - Pixel Art Effects by 	kiddolink https://kiddolink.itch.io/vfx-fx-electricity-vol-2-pixel-art 
-	Profile Avatars : Pixel-Art Portrait Pack by Loregret https://loregret.itch.io/pixel-art-portrait-pack 
-	Profile vehicles : Pixel Art Car Pack by realcreative https://realcreative.itch.io/pixel-art-car-pack  
-	Async loader gif https://pimen.itch.io/smoke-vfx-1?download 

### Fonts
-	Header : The Wall By Extant
https://www.pentacom.jp/pentacom/bitfontmaker2/gallery/?id=3733 
-	Paragraph : NES Cryllic by xbost
https://www.pentacom.jp/pentacom/bitfontmaker2/gallery/?id=234 

### Sound Effects
-	Checkbox : Light Switch ON / OFF by FillSoko https://freesound.org/people/FillSoko/sounds/257958/ 
-	Collision : bounce Energy Bounce 1 by magnuswaker https://freesound.org/people/magnuswaker/sounds/523088/ 
-	Countdown : Race Start Ready go by steel2008 https://freesound.org/people/steel2008/sounds/231277/ 
-	Collision with wall : Car Crash by squareal https://freesound.org/people/squareal/sounds/237375/ 
-	Driving on dirt : gravel road by seth-m https://freesound.org/people/seth-m/sounds/341069/ 
-	Error Click : Access Denied by suntemple https://freesound.org/people/suntemple/sounds/249300/ 
-	Idle engine : Engine sound by oldazatloukal https://freesound.org/people/oldazatloukal/sounds/408896/ 
-	Lap increase : Boxing Bell 1 by Benboncan https://freesound.org/people/Benboncan/sounds/66952/ 
-	Max speed on : ELECTRIC_ZAP_001 by JoelAudio https://freesound.org/people/JoelAudio/sounds/136542/ 
-	Mouse click : Typewriter Ding by NHumphrey https://freesound.org/people/NHumphrey/sounds/204466/ 
-	Mouse hover : Mouse hover by Andreas.Mustola https://freesound.org/people/Andreas.Mustola/sounds/255764/ 
-	Pause : pauseStart by Wagna https://freesound.org/people/Wagna/sounds/326418/ 
-	Race finish : Cheer 2 by jayfrosting https://freesound.org/people/jayfrosting/sounds/333404/ 
-	Tire skid loop : Car tire squeal skid loop by audible-edge https://opengameart.org/content/car-tire-squeal-skid-loop 
	
### Music
-	01 : Race of the Wasp by OwlishMedia
https://opengameart.org/content/race-of-the-wasp  
-	02 : 2020-03-18 Synthwave by Doctor_Dreamchip
https://freesound.org/people/Doctor_Dreamchip/sounds/511278/ 
-	03 : Ciptuned Rock tune by bertsz
https://opengameart.org/content/ciptuned-rock-tune 
-	04 : Black Diamond by Joth
https://opengameart.org/content/black-diamond 
-	05 : Drum and bass by bertsz
https://opengameart.org/content/drum-and-bass 
-	06 : Spring theory by jobromedia
https://opengameart.org/content/spring-theory 
-	07 : Dark Ritual by Of Far Different Nature
https://opengameart.org/content/dark-ritual
-	08 : sad trap beat by 3M4
https://freesound.org/people/3M4/sounds/474438/ 
-	09 : Raining Bits by Gundatsch
https://opengameart.org/content/raining-bits 
-	10 : 2018-12-11-3 by Doctor_Dreamchip
https://freesound.org/people/Doctor_Dreamchip/sounds/458089/ 
-	11 : Dayum by loveless1017
https://freesound.org/people/loveless1017/sounds/455443/ 
-	12 : My Friends Will Cry. by Christovix
https://opengameart.org/content/my-friends-will-cry 
-	13 : Winning the Race by section31
https://opengameart.org/content/winning-the-race
-	Menu : La Montagne by Komiku
https://opengameart.org/content/la-montagne 
-	Pause  :  2020-06-20 Bass by Doctor_Dreamchip
https://freesound.org/people/Doctor_Dreamchip/sounds/524619/ 
-	Credits : 2020-03-17 Lofi Trip Hop by Doctor_Dreamchip
https://freesound.org/people/Doctor_Dreamchip/sounds/511279/



## RoadMap

### FINISHED BETA PRE RELEASE ROADMAP
- (done) add interaction for profile selector 
- (done) add email login w/firebase
- (done) add error banner for database functions
- (done) add loading icon for database functions
- (done) add gmail login w/firebase
- (done) update existing leaderboard functions to use new database facade
- (done) refactor the [map maker](https://michaelgombos.github.io/browser-driving-map-creator/) as a react component, and allow it to be accessed from the create map button
- (done) add community leaderboard page
- (done) add community maps pages
- (done) fix replays crashing randomly[b1]
- (done) fix infinite async loads on finish navigation
- (done) add publish/set to draft flow for maps
- (done) fix huge particle bug on replay
- remake replays for all maps
- (done) compress replay stats (4 min replay is 1.3mb)
- (done) update car sprite to use new graphics
- (done) add controller/keyboard support for navigation & framer animations
- (done) add custom keybinds
- (done) update particle layer to use pixi js
- (done) add pixel art assets for particles
- (done) add sfx
- (done) add music
- (done) dialogue system
- (done)  tutorial level
- (done) credits
- (done) seperate alpha & beta prerelease

### REMAINING BETA PRE RELEASE ROADMAP
- logo 
- fix game time bug [b2]
- finish backlog
- feedback
- revisions
- official release
- trailer
- publish on steam/itch.io

### BETA PRE RELEASE BACKLOG 
- compress music (causing multiple minute load times)
- fix title screen loading gif
- add speech to tutorial
- add audio settings
- add mute audio button
- add callout card with audio+link to artist when a song plays on a track.
- fix car not behaving the same while backwards
- fix ghost particles on replay & medals
- re record all replays
- fix zoom effect on replay
- add shake effect + debris for camera on dirt? 
- add arrow keys for gui navigation
- add keyboard/controller support for map maker
- update guest system to not require login to customize profile+car
- add zoom feature to map maker
- update the tab key to use the navigatin system
- fix the space key on text input
- add the rest of the car styles + profile avatars
- update ghost default avatar to be a robot
- update navigation to increase in location depth while searching for a neighbor. (instead of only searching for the next index on the valid action list) This will allow me to have a 9x9 grid and navigate up/down/left/right even if each individual cell has alot of nesting. Because right now the navigation really only works if there is only 1 level of nesting ex (1 column that has 5 rows of buttons)
- fix how the best time is sent to the server
- fix the bug where you always are getting the best time even if its slower
- add a progression graph to each level
- add 26 more maps, so there are 3 acts in total.

### bugs

- [b1] (fixed) While watching or racing against a replay, the replay inconsistantly fails. This may be tied to performance or maybe the game time bug [b2] but this is difficult to test, so I am going to overhaul the replay system; Instead of:
 the ghost reading the inputs of the replayArray on each frame then running the car physics using the inputs,
I will:
   store the location/angle of car in the replayArray, so the ghost won't have to run the physics, and should always be accurate. I can still use the replay input to display the steering wheel and pedals in the HUD since its only slightly innacurate.

- [b2] The timer is using the real time that has passed to check how long you have been racing (minus the time paused). BUT each "tick" of the game is pulled using requestAnimationFrame, this means that if you are running this game at 30fps instead of 60fps, you will experience the game running half as fast, but the timer will tick in real time. If you have a 144hz monitor, the game will run extremely fast. The solution here is to rewrite my game loop function to consider delta time.


## License

[MIT](https://choosealicense.com/licenses/mit/)